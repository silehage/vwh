import{au as h,x as k,J as w,r as A,c as o,o as t,a as r,w as u,Q as F,b as s,e as b,j as y,F as d,H as m,g as q,I as p,av as H,k as L,aw as N}from"./app-Dm8FEYe1.js";const P={class:"q-mb-md q-gutter-sm"},S={class:"table-responsive"},T={class:"table bordered"},z={class:"nowrap"},$={__name:"PermissionIndex",props:["roles","permissions","modules"],setup(c){const v=c,n=h({permission_id:"",role_id:""}),C=(i,l)=>{n.permission_id=i,n.role_id=l,n.post(N(),{preserveScroll:!0,onFinish:()=>n.reset()}),console.log(n)},a=k(""),g=k(v.roles),V=w(()=>a.value?v.permissions.filter(i=>i.tag==a.value):v.permissions);return(i,l)=>{const x=A("AppHeader");return t(),o("div",null,[r(x,{title:"Assign Permissions"}),r(L,{class:"section q-mt-md",flat:""},{default:u(()=>[r(F,null,{default:u(()=>[s("div",P,[r(b,{unelevated:"",size:"13px",color:a.value==""?"blue":"grey-6",onClick:l[0]||(l[0]=e=>a.value="")},{default:u(()=>[...l[1]||(l[1]=[y("ALL",-1)])]),_:1},8,["color"]),(t(!0),o(d,null,m(c.modules,e=>(t(),q(b,{key:e,unelevated:"",size:"13px",color:a.value==e?"blue":"grey-6",onClick:f=>a.value=e},{default:u(()=>[y(p(e),1)]),_:2},1032,["color","onClick"]))),128))]),s("div",S,[s("table",T,[s("thead",null,[s("tr",null,[l[2]||(l[2]=s("th",{align:"left"},"#",-1)),l[3]||(l[3]=s("th",{align:"left"},"Permissions",-1)),(t(!0),o(d,null,m(c.roles,e=>(t(),o("th",{align:"left",key:e.id},p(e.name),1))),128))])]),s("tbody",null,[(t(!0),o(d,null,m(V.value,(e,f)=>(t(),o("tr",{key:f},[s("td",null,p(f+1),1),s("td",null,[s("div",z,p(e.name),1)]),(t(!0),o(d,null,m(g.value,(B,_)=>(t(),o("td",{key:_},[r(H,{modelValue:g.value[_].permissions,"onUpdate:modelValue":[Q=>g.value[_].permissions=Q,()=>C(e.id,B.id)],val:e.id},null,8,["modelValue","onUpdate:modelValue","val"])]))),128))]))),128))])])])]),_:1})]),_:1})])}}};export{$ as default};
