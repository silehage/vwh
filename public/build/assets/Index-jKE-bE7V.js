import{W as $,X as m,Y as b,Z as W,$ as j,a0 as G,a1 as F,a2 as U,x as P,a3 as K,a4 as X,D as R,E as Y,U as Z,a5 as J,e as w,a6 as ee,C as D,r as x,c as y,o as B,a as i,w as c,u,I as q,V as k,Q as te,b as n,F as Q,K as H,g as L,L as g,j as V,M as ne,i as ae,N as M,O,n as oe,l as le,k as re}from"./app-BAS-jcsj.js";import{d as se,b as ie}from"./utils-BVaO-TMo.js";const ue=["top","middle","bottom"],de=$({name:"QBadge",props:{color:String,textColor:String,floating:Boolean,transparent:Boolean,multiLine:Boolean,outline:Boolean,rounded:Boolean,label:[Number,String],align:{type:String,validator:e=>ue.includes(e)}},setup(e,{slots:l}){const o=m(()=>e.align!==void 0?{verticalAlign:e.align}:null),s=m(()=>{const r=e.outline===!0&&e.color||e.textColor;return`q-badge flex inline items-center no-wrap q-badge--${e.multiLine===!0?"multi":"single"}-line`+(e.outline===!0?" q-badge--outline":e.color!==void 0?` bg-${e.color}`:"")+(r!==void 0?` text-${r}`:"")+(e.floating===!0?" q-badge--floating":"")+(e.rounded===!0?" q-badge--rounded":"")+(e.transparent===!0?" q-badge--transparent":"")});return()=>b("div",{class:s.value,style:o.value,role:"status","aria-label":e.label},W(l.default,e.label!==void 0?[e.label]:[]))}}),ce=$({name:"QBtnGroup",props:{unelevated:Boolean,outline:Boolean,flat:Boolean,rounded:Boolean,square:Boolean,push:Boolean,stretch:Boolean,glossy:Boolean,spread:Boolean},setup(e,{slots:l}){const o=m(()=>{const s=["unelevated","outline","flat","rounded","square","push","stretch","glossy"].filter(r=>e[r]===!0).map(r=>`q-btn-group--${r}`).join(" ");return`q-btn-group row no-wrap${s.length!==0?" "+s:""}`+(e.spread===!0?" q-btn-group--spread":" inline")});return()=>b("div",{class:o.value},j(l.default))}}),fe=Object.keys(F);function ge(e){return fe.reduce((l,o)=>{const s=e[o];return s!==void 0&&(l[o]=s),l},{})}const be=$({name:"QBtnDropdown",props:{...F,...G,modelValue:Boolean,split:Boolean,dropdownIcon:String,contentClass:[Array,String,Object],contentStyle:[Array,String,Object],cover:Boolean,persistent:Boolean,noEscDismiss:Boolean,noRouteDismiss:Boolean,autoClose:Boolean,noRefocus:Boolean,noFocus:Boolean,menuAnchor:{type:String,default:"bottom end"},menuSelf:{type:String,default:"top end"},menuOffset:Array,disableMainBtn:Boolean,disableDropdown:Boolean,noIconAnimation:Boolean,toggleAriaLabel:String},emits:["update:modelValue","click","beforeShow","show","beforeHide","hide"],setup(e,{slots:l,emit:o}){const{proxy:s}=U(),r=P(e.modelValue),f=P(null),d=K(),h=m(()=>{const t={"aria-expanded":r.value===!0?"true":"false","aria-haspopup":"true","aria-controls":d.value,"aria-label":e.toggleAriaLabel||s.$q.lang.label[r.value===!0?"collapse":"expand"](e.label)};return(e.disable===!0||e.split===!1&&e.disableMainBtn===!0||e.disableDropdown===!0)&&(t["aria-disabled"]="true"),t}),S=m(()=>"q-btn-dropdown__arrow"+(r.value===!0&&e.noIconAnimation===!1?" rotate-180":"")+(e.split===!1?" q-btn-dropdown__arrow-container":"")),_=m(()=>X(e)),a=m(()=>ge(e));R(()=>e.modelValue,t=>{f.value?.[t?"show":"hide"]()}),R(()=>e.split,A);function v(t){r.value=!0,o("beforeShow",t)}function C(t){o("show",t),o("update:modelValue",!0)}function N(t){r.value=!1,o("beforeHide",t)}function p(t){o("hide",t),o("update:modelValue",!1)}function E(t){o("click",t)}function T(t){ee(t),A(),o("click",t)}function z(t){f.value?.toggle(t)}function I(t){f.value?.show(t)}function A(t){f.value?.hide(t)}return Object.assign(s,{show:I,hide:A,toggle:z}),Y(()=>{e.modelValue===!0&&I()}),()=>{const t=[b(Z,{class:S.value,name:e.dropdownIcon||s.$q.iconSet.arrow.dropdown})];return e.disableDropdown!==!0&&t.push(b(J,{ref:f,id:d.value,class:e.contentClass,style:e.contentStyle,cover:e.cover,fit:!0,persistent:e.persistent,noEscDismiss:e.noEscDismiss,noRouteDismiss:e.noRouteDismiss,autoClose:e.autoClose,noFocus:e.noFocus,noRefocus:e.noRefocus,anchor:e.menuAnchor,self:e.menuSelf,offset:e.menuOffset,separateClosePopup:!0,transitionShow:e.transitionShow,transitionHide:e.transitionHide,transitionDuration:e.transitionDuration,onBeforeShow:v,onShow:C,onBeforeHide:N,onHide:p},l.default)),e.split===!1?b(w,{class:"q-btn-dropdown q-btn-dropdown--simple",...a.value,...h.value,disable:e.disable===!0||e.disableMainBtn===!0,noWrap:!0,round:!1,onClick:E},{default:()=>j(l.label,[]).concat(t),loading:l.loading}):b(ce,{class:"q-btn-dropdown q-btn-dropdown--split no-wrap q-btn-item",rounded:e.rounded,square:e.square,..._.value,glossy:e.glossy,stretch:e.stretch},()=>[b(w,{class:"q-btn-dropdown--current",...a.value,disable:e.disable===!0||e.disableMainBtn===!0,noWrap:!0,round:!1,onClick:T},{default:l.label,loading:l.loading}),b(w,{class:"q-btn-dropdown__arrow-container q-anchor--skip",...h.value,..._.value,disable:e.disable===!0||e.disableDropdown===!0,rounded:e.rounded,color:e.color,textColor:e.textColor,dense:e.dense,size:e.size,padding:e.padding,ripple:e.ripple},()=>t)])}}}),me={class:"q-mb-md q-gutter-sm"},ve={class:"nowrap q-gutter-xs"},he={__name:"Index",setup(e){const l=D().props.data,o=D().props.options,s=f=>{q.visit(k.confirmed(f.id),{preserveState:!1})},r={stock_type:D().props.query?.stock_type||"in"};return(f,d)=>{const h=x("AppHeader"),S=x("TableContainer"),_=x("AppPagination");return B(),y(Q,null,[i(h,{title:"Stocks"},{default:c(()=>[i(w,{color:"primary",onClick:d[0]||(d[0]=a=>u(q).visit(u(k).create())),label:"Add Stock"})]),_:1}),i(re,{class:"section"},{default:c(()=>[i(te,null,{default:c(()=>[n("div",me,[(B(!0),y(Q,null,H(u(o),(a,v)=>(B(),L(w,{label:a.label,color:r.stock_type==a.value?"primary":"grey-6",key:v,onClick:C=>u(q).visit(u(k).index({query:{stock_type:a.value}}))},null,8,["label","color","onClick"]))),128))]),i(S,null,{default:c(()=>[d[3]||(d[3]=n("thead",null,[n("tr",null,[n("th",{align:"left"},"#"),n("th",{align:"left"},"Ref"),n("th",{align:"left"},"Date"),n("th",{align:"left"},"Description"),n("th",{align:"left"},"Total Stock"),n("th",{align:"left"},"Status"),n("th",{align:"left"},"ConfirmedAt"),n("th",{align:"left"},"ConfirmedBy"),n("th",null,"Action")])],-1)),n("tbody",null,[(B(!0),y(Q,null,H(u(l).data,(a,v)=>(B(),y("tr",{key:v},[n("td",null,g(u(l).from+v),1),n("td",null,g(a.reference),1),n("td",null,g(u(se)(a.created_at)),1),n("td",null,g(a.description),1),n("td",null,g(a.items_sum_quantity),1),n("td",null,[i(de,{color:u(ie)(a.status)},{default:c(()=>[V(g(a.status),1)]),_:2},1032,["color"])]),n("td",null,g(a.confirmed_at),1),n("td",null,g(a.confirmed_by),1),n("td",ve,[i(be,{"dropdown-icon":"more_vert","no-icon-animation":"","auto-close":"",round:"",flat:"",dense:""},{default:c(()=>[i(ne,{separator:""},{default:c(()=>[i(M,{clickable:"",onClick:C=>u(q).visit(u(k).edit(a.id))},{default:c(()=>[i(O,null,{default:c(()=>[...d[1]||(d[1]=[V("Detail",-1)])]),_:1})]),_:1},8,["onClick"]),a.can_confirm?(B(),L(M,{key:0,clickable:"",onClick:C=>s(a)},{default:c(()=>[i(O,null,{default:c(()=>[...d[2]||(d[2]=[V("Confirm",-1)])]),_:1})]),_:1},8,["onClick"])):ae("",!0)]),_:2},1024)]),_:2},1024)])]))),128))])]),_:1}),i(_,oe(le(u(l))),null,16)]),_:1})]),_:1})],64)}}};export{he as default};
