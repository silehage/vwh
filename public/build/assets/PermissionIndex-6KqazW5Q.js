import{J as h,x as k,V as A,r as F,c as o,o as t,a,w as u,Q as q,b as s,e as b,j as y,F as d,H as m,g as w,I as p,aD as H,k as L,aE as N}from"./app-gCScvdaI.js";const P={class:"q-mb-md q-gutter-sm"},S={class:"table-responsive"},T={class:"table bordered"},z={class:"nowrap"},E={__name:"PermissionIndex",props:["roles","permissions","modules"],setup(c){const v=c,r=h({permission_id:"",role_id:""}),V=(i,l)=>{r.permission_id=i,r.role_id=l,r.post(N(),{preserveScroll:!0,onFinish:()=>r.reset()}),console.log(r)},n=k(""),g=k(v.roles),C=A(()=>n.value?v.permissions.filter(i=>i.tag==n.value):v.permissions);return(i,l)=>{const x=F("AppHeader");return t(),o("div",null,[a(x,{title:"Assign Permissions"}),a(L,{class:"section q-mt-md",flat:""},{default:u(()=>[a(q,null,{default:u(()=>[s("div",P,[a(b,{unelevated:"",size:"13px",color:n.value==""?"blue":"grey-6",onClick:l[0]||(l[0]=e=>n.value="")},{default:u(()=>[...l[1]||(l[1]=[y("ALL",-1)])]),_:1},8,["color"]),(t(!0),o(d,null,m(c.modules,e=>(t(),w(b,{key:e,unelevated:"",size:"13px",color:n.value==e?"blue":"grey-6",onClick:f=>n.value=e},{default:u(()=>[y(p(e),1)]),_:2},1032,["color","onClick"]))),128))]),s("div",S,[s("table",T,[s("thead",null,[s("tr",null,[l[2]||(l[2]=s("th",{align:"left"},"#",-1)),l[3]||(l[3]=s("th",{align:"left"},"Permissions",-1)),(t(!0),o(d,null,m(c.roles,e=>(t(),o("th",{align:"left",key:e.id},p(e.name),1))),128))])]),s("tbody",null,[(t(!0),o(d,null,m(C.value,(e,f)=>(t(),o("tr",{key:f},[s("td",null,p(f+1),1),s("td",null,[s("div",z,p(e.name),1)]),(t(!0),o(d,null,m(g.value,(B,_)=>(t(),o("td",{key:_},[a(H,{modelValue:g.value[_].permissions,"onUpdate:modelValue":[Q=>g.value[_].permissions=Q,()=>V(e.id,B.id)],val:e.id},null,8,["modelValue","onUpdate:modelValue","val"])]))),128))]))),128))])])])]),_:1})]),_:1})])}}};export{E as default};
