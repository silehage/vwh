import{d as $,g as w,o as n,u as f,s as F,x as k,X as R,a7 as T,a8 as h,r as _,c as r,a,w as u,b as e,i as m,e as c,Q as B,F as C,K as j,L as g,j as D,n as H,l as L,k as E,T as O,f as z,m as I,P as K}from"./app-CHQcK3CV.js";import{C as M}from"./ClosePopup-BxG-yZKf.js";import{u as X,_ as b,a as y}from"./Input.vue_vue_type_script_setup_true_lang-BvUo30ag.js";import{c as P}from"./utils-DeAMGulJ.js";import{Q as G}from"./QSelect-dynBFOx3.js";const J=$({__name:"Select",props:{label:{},defaultValue:{},modelValue:{},emitValue:{type:Boolean},mapOptions:{type:Boolean},options:{}},emits:["update:modelValue"],setup(o,{emit:d}){const t=o,p=X(t,"modelValue",d,{passive:!0,defaultValue:t.defaultValue});return(U,v)=>(n(),w(G,{label:o.label,modelValue:f(p),"onUpdate:modelValue":v[0]||(v[0]=x=>F(p)?p.value=x:null),"data-slot":"input",options:o.options,"emit-value":o.emitValue,"map-options":o.mapOptions},null,8,["label","modelValue","options","emit-value","map-options"]))}}),W={class:"flex justify-end q-gutter-sm"},Y={key:0,class:"text-left uppercase"},Z={class:"q-gutter-xs no-wrap"},ee={key:0,class:"q-pa-sm"},ae={class:"card-title flex justify-between items-center"},le={class:"q-gutter-sm"},de={__name:"Index",props:["data","roles"],setup(o){const d=k(!1),t=k(null),i=k(!1),p=()=>{t.value=null,i.value=!0,d.value=!0},U=A=>{t.value=A,i.value=!1,d.value=!0},v=()=>{d.value=!1},x=R(()=>t.value?T.form(t.value.id):h.form());return(A,l)=>{const N=_("AppHeader"),Q=_("TableContainer"),q=_("AppPagination");return n(),r(C,null,[a(N,{title:"Users"},{default:u(()=>[e("div",W,[f(P)("Create")?(n(),w(c,{key:0,color:"primary",onClick:p,label:"Add User"})):m("",!0)])]),_:1}),a(E,{class:"section"},{default:u(()=>[a(B,null,{default:u(()=>[e("div",null,[a(Q,null,{default:u(()=>[e("thead",null,[e("tr",null,[l[2]||(l[2]=e("th",{class:"text-left uppercase"},"#",-1)),l[3]||(l[3]=e("th",{class:"text-left uppercase"},"Nama",-1)),l[4]||(l[4]=e("th",{class:"text-left uppercase"},"Email",-1)),l[5]||(l[5]=e("th",{class:"text-left uppercase"},"Role",-1)),f(P)("Update")?(n(),r("th",Y,"Aksi")):m("",!0)])]),e("tbody",null,[(n(!0),r(C,null,j(o.data.data,(s,V)=>(n(),r("tr",{key:V},[e("td",null,g(o.data.from+V),1),e("td",null,g(s.name),1),e("td",null,g(s.email),1),e("td",null,g(s.role?s.role.name:"-"),1),e("td",Z,[f(P)("Update")?(n(),w(c,{key:0,class:"btn-action","no-caps":"",color:"blue",onClick:S=>U(s)},{default:u(()=>[...l[6]||(l[6]=[D("Edit",-1)])]),_:1},8,["onClick"])):m("",!0)])]))),128))])]),_:1}),o.data.total?m("",!0):(n(),r("div",ee,"No items found")),a(q,H(L(o.data)),null,16)])]),_:1})]),_:1}),a(K,{modelValue:d.value,"onUpdate:modelValue":l[1]||(l[1]=s=>d.value=s)},{default:u(()=>[a(E,{class:"section card-lg"},{default:u(()=>[a(B,null,{default:u(()=>[e("div",ae,[l[7]||(l[7]=e("div",null,"Form User",-1)),O(a(c,{flat:"",round:"",icon:"close"},null,512),[[M]])]),a(f(z),I(x.value,{autocomplete:"off",onSuccess:v}),{default:u(({errors:s,processing:V})=>[e("div",le,[e("div",null,[a(b,{defaultValue:t.value?t.value.name:"",label:"Nama",id:"name",name:"name",autocomplete:"off"},null,8,["defaultValue"]),a(y,{message:s.name},null,8,["message"])]),e("div",null,[a(b,{defaultValue:t.value?t.value.email:"",label:"Email",id:"email",name:"email",type:"email",autocomplete:"off"},null,8,["defaultValue"]),a(y,{message:s.email},null,8,["message"])]),e("div",null,[a(J,{defaultValue:t.value?t.value.role_id:"",label:"Role",id:"role",name:"role",options:o.roles,"emit-value":"","map-options":""},null,8,["defaultValue","options"]),a(y,{message:s.role},null,8,["message"])]),e("div",null,[i.value?m("",!0):(n(),w(c,{key:0,padding:"1px 4px",flat:"","no-caps":"",color:"primary",class:"q-my-xs",label:"Edit Password",onClick:l[0]||(l[0]=S=>i.value=!i.value)}))]),i.value?(n(),r(C,{key:0},[a(b,{label:"Password",id:"password",name:"password",autocomplete:"new-password"}),e("div",null,[a(b,{label:"Ulangi Password",id:"password_confirmation",name:"password_confirmation",type:"password_confirmation",autocomplete:""}),a(y,{message:s.password_confirmation},null,8,["message"])])],64)):m("",!0)]),a(c,{loading:V,label:"Submit",type:"submit",color:"primary",class:"full-width q-mt-lg"},null,8,["loading"])]),_:1},16)]),_:1})]),_:1})]),_:1},8,["modelValue"])],64)}}};export{de as default};
