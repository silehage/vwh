import{S as A,x as k,X as L,r as C,c as n,o as s,a,w as i,Q as S,b as t,e as y,j as b,F as d,K as m,g as q,L as p,aF as w,k as N,aG as P}from"./app-CHQcK3CV.js";const h={class:"q-mb-md q-gutter-sm"},z={class:"nowrap"},U={__name:"PermissionIndex",props:["roles","permissions","modules"],setup(c){const v=c,r=A({permission_id:"",role_id:""}),V=(u,l)=>{r.permission_id=u,r.role_id=l,r.post(P(),{preserveScroll:!0,onFinish:()=>r.reset()}),console.log(r)},o=k(""),f=k(v.roles),x=L(()=>o.value?v.permissions.filter(u=>u.tag==o.value):v.permissions);return(u,l)=>{const B=C("AppHeader"),F=C("TableContainer");return s(),n("div",null,[a(B,{title:"Assign Permissions"}),a(N,{class:"section q-mt-md",flat:""},{default:i(()=>[a(S,null,{default:i(()=>[t("div",h,[a(y,{unelevated:"",size:"13px",color:o.value==""?"blue":"grey-6",onClick:l[0]||(l[0]=e=>o.value="")},{default:i(()=>[...l[1]||(l[1]=[b("ALL",-1)])]),_:1},8,["color"]),(s(!0),n(d,null,m(c.modules,e=>(s(),q(y,{key:e,unelevated:"",size:"13px",color:o.value==e?"blue":"grey-6",onClick:g=>o.value=e},{default:i(()=>[b(p(e),1)]),_:2},1032,["color","onClick"]))),128))]),a(F,null,{default:i(()=>[t("thead",null,[t("tr",null,[l[2]||(l[2]=t("th",{align:"left"},"#",-1)),l[3]||(l[3]=t("th",{align:"left"},"Permissions",-1)),(s(!0),n(d,null,m(c.roles,e=>(s(),n("th",{align:"left",key:e.id},p(e.name),1))),128))])]),t("tbody",null,[(s(!0),n(d,null,m(x.value,(e,g)=>(s(),n("tr",{key:g},[t("td",null,p(g+1),1),t("td",null,[t("div",z,p(e.name),1)]),(s(!0),n(d,null,m(f.value,(Q,_)=>(s(),n("td",{key:_},[a(w,{modelValue:f.value[_].permissions,"onUpdate:modelValue":[T=>f.value[_].permissions=T,()=>V(e.id,Q.id)],val:e.id},null,8,["modelValue","onUpdate:modelValue","val"])]))),128))]))),128))])]),_:1})]),_:1})]),_:1})])}}};export{U as default};
