import{d as q,g as w,o as n,u as f,s as $,x as k,V as F,a5 as R,a6 as h,r as A,c as r,a,w as u,b as e,i as m,e as c,Q as B,F as _,H as j,I as g,j as D,n as H,l as I,k as E,M,f as O,m as T,S as z}from"./app-gCScvdaI.js";import{C as L}from"./ClosePopup-Dl2BHr6K.js";import{u as G,_ as b,a as y}from"./Input.vue_vue_type_script_setup_true_lang-CLh80DGx.js";import{c as C}from"./utils-BF7k06R4.js";import{Q as J}from"./QSelect-CPPTg9Kj.js";const K=q({__name:"Select",props:{label:{},defaultValue:{},modelValue:{},emitValue:{type:Boolean},mapOptions:{type:Boolean},options:{}},emits:["update:modelValue"],setup(o,{emit:d}){const t=o,p=G(t,"modelValue",d,{passive:!0,defaultValue:t.defaultValue});return(P,v)=>(n(),w(J,{label:o.label,modelValue:f(p),"onUpdate:modelValue":v[0]||(v[0]=x=>$(p)?p.value=x:null),"data-slot":"input",options:o.options,"emit-value":o.emitValue,"map-options":o.mapOptions},null,8,["label","modelValue","options","emit-value","map-options"]))}}),W={class:"flex justify-end q-gutter-sm"},X={class:"table-responsive"},Y={class:"table bordered"},Z={key:0,class:"text-left uppercase"},ee={class:"q-gutter-xs no-wrap"},ae={key:0},le={class:"card-title flex justify-between items-center"},te={class:"q-gutter-sm"},ie={__name:"Index",props:["data","roles"],setup(o){const d=k(!1),t=k(null),i=k(!1),p=()=>{t.value=null,i.value=!0,d.value=!0},P=U=>{t.value=U,i.value=!1,d.value=!0},v=()=>{d.value=!1},x=F(()=>t.value?R.form(t.value.id):h.form());return(U,l)=>{const Q=A("AppHeader"),S=A("AppPagination");return n(),r(_,null,[a(Q,{title:"Users"},{default:u(()=>[e("div",W,[f(C)("Create")?(n(),w(c,{key:0,color:"primary",onClick:p,label:"Add User"})):m("",!0)])]),_:1}),a(E,{class:"section"},{default:u(()=>[a(B,null,{default:u(()=>[e("div",null,[e("div",X,[e("table",Y,[e("thead",null,[e("tr",null,[l[2]||(l[2]=e("th",{class:"text-left uppercase"},"#",-1)),l[3]||(l[3]=e("th",{class:"text-left uppercase"},"Nama",-1)),l[4]||(l[4]=e("th",{class:"text-left uppercase"},"Email",-1)),l[5]||(l[5]=e("th",{class:"text-left uppercase"},"Role",-1)),f(C)("Update")?(n(),r("th",Z,"Aksi")):m("",!0)])]),e("tbody",null,[(n(!0),r(_,null,j(o.data.data,(s,V)=>(n(),r("tr",{key:V},[e("td",null,g(o.data.from+V),1),e("td",null,g(s.name),1),e("td",null,g(s.email),1),e("td",null,g(s.role?s.role.name:"-"),1),e("td",ee,[f(C)("Update")?(n(),w(c,{key:0,class:"btn-action","no-caps":"",color:"blue",onClick:N=>P(s)},{default:u(()=>[...l[6]||(l[6]=[D("Edit",-1)])]),_:1},8,["onClick"])):m("",!0)])]))),128)),o.data.total?m("",!0):(n(),r("tr",ae,[...l[7]||(l[7]=[e("td",{colspan:"20",class:"text-center"},"Tidak ada data",-1)])]))])])]),a(S,H(I(o.data)),null,16)])]),_:1})]),_:1}),a(z,{modelValue:d.value,"onUpdate:modelValue":l[1]||(l[1]=s=>d.value=s)},{default:u(()=>[a(E,{class:"section card-lg"},{default:u(()=>[a(B,null,{default:u(()=>[e("div",le,[l[8]||(l[8]=e("div",null,"Form User",-1)),M(a(c,{flat:"",round:"",icon:"close"},null,512),[[L]])]),a(f(O),T(x.value,{autocomplete:"off",onSuccess:v}),{default:u(({errors:s,processing:V})=>[e("div",te,[e("div",null,[a(b,{defaultValue:t.value?t.value.name:"",label:"Nama",id:"name",name:"name",autocomplete:"off"},null,8,["defaultValue"]),a(y,{message:s.name},null,8,["message"])]),e("div",null,[a(b,{defaultValue:t.value?t.value.email:"",label:"Email",id:"email",name:"email",type:"email",autocomplete:"off"},null,8,["defaultValue"]),a(y,{message:s.email},null,8,["message"])]),e("div",null,[a(K,{defaultValue:t.value?t.value.role_id:"",label:"Role",id:"role",name:"role",options:o.roles,"emit-value":"","map-options":""},null,8,["defaultValue","options"]),a(y,{message:s.role},null,8,["message"])]),e("div",null,[i.value?m("",!0):(n(),w(c,{key:0,padding:"1px 4px",flat:"","no-caps":"",color:"primary",class:"q-my-xs",label:"Edit Password",onClick:l[0]||(l[0]=N=>i.value=!i.value)}))]),i.value?(n(),r(_,{key:0},[a(b,{label:"Password",id:"password",name:"password",autocomplete:"new-password"}),e("div",null,[a(b,{label:"Ulangi Password",id:"password_confirmation",name:"password_confirmation",type:"password_confirmation",autocomplete:""}),a(y,{message:s.password_confirmation},null,8,["message"])])],64)):m("",!0)]),a(c,{loading:V,label:"Submit",type:"submit",color:"primary",class:"full-width q-mt-lg"},null,8,["loading"])]),_:1},16)]),_:1})]),_:1})]),_:1},8,["modelValue"])],64)}}};export{ie as default};
